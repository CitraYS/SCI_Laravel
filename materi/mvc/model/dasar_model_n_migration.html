<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 2: Laravel Database Engineering</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap');
        
        body { font-family: 'Inter', sans-serif; }
        code, pre { font-family: 'JetBrains Mono', monospace; }
        
        .code-block {
            background-color: #1e293b; /* Slate 800 */
            color: #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            border: 1px solid #334155;
        }
        .comment { color: #94a3b8; font-style: italic; }
        .keyword { color: #c084fc; font-weight: bold; } /* Purple */
        .string { color: #86efac; } /* Green */
        .function { color: #60a5fa; } /* Blue */
        .variable { color: #fca5a5; } /* Red */
        
        /* Step Badge */
        .step-badge {
            background-color: #dc2626;
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Navbar -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-5xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fa-brands fa-laravel text-red-600 text-2xl"></i>
                <h1 class="font-bold text-xl tracking-tight">Laravel Bootcamp <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full ml-2">Modul 2</span></h1>
            </div>
            <div class="text-sm text-gray-500 font-mono">Project: toko-online</div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto px-6 py-10 space-y-16">

        <!-- INTRO: Definisi & Konsep -->
        <section>
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <span class="step-badge">1</span>
                Definisi & Konsep Dasar
            </h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Migration Card -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-red-300 transition">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-3 bg-blue-100 text-blue-600 rounded-lg">
                            <i class="fa-solid fa-map"></i>
                        </div>
                        <h3 class="font-bold text-lg">Migration</h3>
                    </div>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        <strong>"Blueprint / Arsitektur"</strong>.<br>
                        Desain tabel database menggunakan kode PHP. Jika laptop rusak, struktur database tetap aman di file migration.
                    </p>
                </div>

                <!-- Model Card -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:border-red-300 transition">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-3 bg-green-100 text-green-600 rounded-lg">
                            <i class="fa-solid fa-box-open"></i>
                        </div>
                        <h3 class="font-bold text-lg">Model (Eloquent)</h3>
                    </div>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        <strong>"Manajer Gudang"</strong>.<br>
                        Perwakilan tabel di kode program. Kita menyuruh Model untuk mengambil/simpan data, bukan pakai SQL manual.
                    </p>
                </div>
            </div>
        </section>

        <!-- PHASE 1: MODEL & MIGRATION -->
        <section class="border-t pt-10">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <span class="step-badge">2</span>
                Langkah 1: Membuat Struktur (Model & Migration)
            </h2>

            <!-- 2.1 Terminal Command -->
            <div class="bg-gray-900 rounded-xl overflow-hidden shadow-lg border border-gray-700 mb-8">
                <div class="bg-gray-800 px-4 py-2 flex items-center gap-2 border-b border-gray-700">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    <span class="text-xs text-gray-400 font-mono ml-2">Terminal</span>
                </div>
                <div class="p-6 font-mono text-sm">
                    <p class="text-gray-400 mb-2"># Perintah untuk membuat Model sekaligus file Migration-nya</p>
                    <p class="text-white">
                        <span class="text-green-400">php</span> artisan make:model <span class="text-yellow-300">Product</span> <span class="text-purple-400">-m</span>
                    </p>
                </div>
            </div>

            <!-- 2.2 Materi Migration -->
            <div class="mb-8">
                <h3 class="font-bold text-gray-800 mb-2 border-l-4 border-blue-500 pl-3">A. Desain Tabel (Migration)</h3>
                <p class="mb-2 text-gray-600 text-sm">File: <code>database/migrations/xxxx_xx_xx_create_products_table.php</code></p>
                <div class="code-block text-sm">
<pre>
<span class="keyword">public function</span> <span class="function">up</span>(): <span class="keyword">void</span>
{
    Schema::<span class="function">create</span>(<span class="string">'products'</span>, <span class="keyword">function</span> (Blueprint <span class="variable">$table</span>) {
        <span class="variable">$table</span>-><span class="function">id</span>(); <span class="comment">// Primary Key</span>
        <span class="variable">$table</span>-><span class="function">foreignId</span>(<span class="string">'category_id'</span>)-><span class="function">constrained</span>(); <span class="comment">// Relasi</span>

        <span class="variable">$table</span>-><span class="function">string</span>(<span class="string">'name'</span>); 
        <span class="variable">$table</span>-><span class="function">text</span>(<span class="string">'description'</span>)-><span class="function">nullable</span>();
        <span class="variable">$table</span>-><span class="function">integer</span>(<span class="string">'stock'</span>)-><span class="function">default</span>(0); 
        <span class="variable">$table</span>-><span class="function">decimal</span>(<span class="string">'price'</span>, 15, 2); <span class="comment">// Uang</span>
        
        <span class="variable">$table</span>-><span class="function">enum</span>(<span class="string">'status'</span>, [<span class="string">'draft'</span>, <span class="string">'active'</span>]);
        <span class="variable">$table</span>-><span class="function">boolean</span>(<span class="string">'is_featured'</span>)-><span class="function">default</span>(<span class="keyword">false</span>);

        <span class="variable">$table</span>-><span class="function">timestamps</span>(); <span class="comment">// Wajib</span>
    });
}
</pre>
                </div>
            </div>

            <!-- Cheat Sheet Tipe Data Lengkap -->
            <div class="mb-12">
                <h4 class="font-bold text-gray-800 mb-4 flex items-center gap-2">
                    <span class="bg-gray-800 text-white w-6 h-6 rounded flex items-center justify-center text-xs"><i class="fa-solid fa-book"></i></span>
                    Referensi Lengkap Tipe Data (Cheat Sheet)
                </h4>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <!-- Group Angka -->
                    <div class="bg-white border rounded-lg p-4">
                        <h3 class="font-bold text-gray-800 border-b pb-2 mb-2 text-sm">üî¢ Angka (Numbers)</h3>
                        <ul class="text-xs space-y-2">
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-red-600 font-bold bg-red-50 px-1 rounded">->integer()</code> 
                                <span class="text-gray-500">Angka bulat standar (¬±2 Milyar)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-red-600 font-bold bg-red-50 px-1 rounded">->bigInteger()</code> 
                                <span class="text-gray-500">Angka sangat besar (ID, NIK)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-red-600 font-bold bg-red-50 px-1 rounded">->decimal(total, koma)</code> 
                                <span class="text-gray-500 text-right">Uang / Presisi Tinggi<br>(Contoh: Harga)</span>
                            </li>
                            <li class="flex justify-between items-center">
                                <code class="text-red-600 font-bold bg-red-50 px-1 rounded">->float()</code> 
                                <span class="text-gray-500">Koma Sederhana (Rating)</span>
                            </li>
                        </ul>
                    </div>
    
                    <!-- Group Teks -->
                    <div class="bg-white border rounded-lg p-4">
                        <h3 class="font-bold text-gray-800 border-b pb-2 mb-2 text-sm">üìù Teks (Strings)</h3>
                        <ul class="text-xs space-y-2">
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-blue-600 font-bold bg-blue-50 px-1 rounded">->string()</code> 
                                <span class="text-gray-500">Teks pendek (Max 255 char)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-blue-600 font-bold bg-blue-50 px-1 rounded">->text()</code> 
                                <span class="text-gray-500">Teks panjang (Deskripsi)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-blue-600 font-bold bg-blue-50 px-1 rounded">->longText()</code> 
                                <span class="text-gray-500">Sangat panjang (Novel/Blog)</span>
                            </li>
                            <li class="flex justify-between items-center">
                                <code class="text-blue-600 font-bold bg-blue-50 px-1 rounded">->json()</code> 
                                <span class="text-gray-500">Data JSON (Setting/Config)</span>
                            </li>
                        </ul>
                    </div>
    
                    <!-- Group Tanggal -->
                    <div class="bg-white border rounded-lg p-4">
                        <h3 class="font-bold text-gray-800 border-b pb-2 mb-2 text-sm">üìÖ Tanggal (Dates)</h3>
                        <ul class="text-xs space-y-2">
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-green-600 font-bold bg-green-50 px-1 rounded">->date()</code> 
                                <span class="text-gray-500">Tanggal saja (YYYY-MM-DD)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-green-600 font-bold bg-green-50 px-1 rounded">->dateTime()</code> 
                                <span class="text-gray-500">Tanggal & Jam Lengkap</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-green-600 font-bold bg-green-50 px-1 rounded">->time()</code> 
                                <span class="text-gray-500">Jam saja (HH:MM:SS)</span>
                            </li>
                            <li class="flex justify-between items-center">
                                <code class="text-green-600 font-bold bg-green-50 px-1 rounded">->year()</code> 
                                <span class="text-gray-500">Tahun saja (YYYY)</span>
                            </li>
                        </ul>
                    </div>
    
                    <!-- Group Spesial -->
                    <div class="bg-white border rounded-lg p-4">
                        <h3 class="font-bold text-gray-800 border-b pb-2 mb-2 text-sm">üîí Spesial (Advanced)</h3>
                        <ul class="text-xs space-y-2">
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-purple-600 font-bold bg-purple-50 px-1 rounded">->uuid()</code> 
                                <span class="text-gray-500">ID Unik Acak (Keamanan)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-purple-600 font-bold bg-purple-50 px-1 rounded">->boolean()</code> 
                                <span class="text-gray-500">Benar/Salah (0 atau 1)</span>
                            </li>
                            <li class="flex justify-between items-center border-b border-dashed pb-1">
                                <code class="text-purple-600 font-bold bg-purple-50 px-1 rounded">->binary()</code> 
                                <span class="text-gray-500">Data Biner (Blob/Gambar)</span>
                            </li>
                            <li class="flex justify-between items-center">
                                <code class="text-purple-600 font-bold bg-purple-50 px-1 rounded">->softDeletes()</code> 
                                <span class="text-gray-500">Tong Sampah (Recycle Bin)</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 2.3 Materi Model -->
            <div>
                <h3 class="font-bold text-gray-800 mb-2 border-l-4 border-green-500 pl-3">B. Konfigurasi Model</h3>
                <p class="mb-2 text-gray-600 text-sm">File: <code>app/Models/Product.php</code></p>
                <div class="code-block text-sm">
<pre>
<span class="keyword">class</span> <span class="function">Product</span> <span class="keyword">extends</span> Model
{
    <span class="keyword">use</span> HasFactory;

    <span class="comment">// $fillable: Daftar kolom yang BOLEH diisi manual (Keamanan)</span>
    <span class="keyword">protected</span> <span class="variable">$fillable</span> = [
        <span class="string">'category_id'</span>, <span class="string">'name'</span>, <span class="string">'description'</span>, 
        <span class="string">'price'</span>, <span class="string">'stock'</span>, <span class="string">'status'</span>, <span class="string">'is_featured'</span>
    ];

    <span class="comment">// $casts: Mengubah tipe data otomatis (misal: integer jadi boolean)</span>
    <span class="keyword">protected</span> <span class="variable">$casts</span> = [
        <span class="string">'is_featured'</span> => <span class="string">'boolean'</span>,
        <span class="string">'price'</span> => <span class="string">'decimal:2'</span>,
    ];
}
</pre>
                </div>
            </div>
        </section>

        <!-- PHASE 2: SEEDER -->
        <section class="border-t pt-10">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <span class="step-badge">3</span>
                Langkah 2: Menyiapkan Data Awal (Seeder)
            </h2>

            <!-- 3.1 Terminal Command -->
            <div class="bg-gray-900 rounded-xl overflow-hidden shadow-lg border border-gray-700 mb-8">
                <div class="bg-gray-800 px-4 py-2 flex items-center gap-2 border-b border-gray-700">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    <span class="text-xs text-gray-400 font-mono ml-2">Terminal</span>
                </div>
                <div class="p-6 font-mono text-sm">
                    <p class="text-gray-400 mb-2"># Perintah untuk membuat file Seeder (Pengisi Data)</p>
                    <p class="text-white mb-4">
                        <span class="text-green-400">php</span> artisan make:seeder <span class="text-yellow-300">ProductSeeder</span>
                    </p>
                    
                    <p class="text-gray-400 mb-2"># (Opsional) Perintah membuat Factory (Pabrik Data Palsu)</p>
                    <p class="text-white">
                        <span class="text-green-400">php</span> artisan make:factory <span class="text-yellow-300">ProductFactory</span>
                    </p>
                </div>
            </div>

            <!-- 3.2 Materi Seeder -->
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <!-- Manual Seeder -->
                <div class="bg-white border rounded-lg p-5">
                    <h4 class="font-bold text-gray-800 mb-2 text-sm">Opsi A: Manual Seeder</h4>
                    <p class="text-xs text-gray-500 mb-3">Gunakan untuk data pasti (Admin, Kategori).</p>
                    <div class="code-block text-xs">
<pre>
<span class="comment">// File: database/seeders/ProductSeeder.php</span>
\App\Models\Product::<span class="function">create</span>([
    <span class="string">'name'</span> => <span class="string">'Laptop ROG'</span>,
    <span class="string">'price'</span> => 15000000,
    <span class="string">'stock'</span> => 5,
    <span class="string">'category_id'</span> => 1,
]);
</pre>
                    </div>
                </div>

                <!-- Factory Seeder -->
                <div class="bg-white border rounded-lg p-5">
                    <h4 class="font-bold text-gray-800 mb-2 text-sm">Opsi B: Factory (Otomatis)</h4>
                    <p class="text-xs text-gray-500 mb-3">Gunakan untuk testing (1000+ data).</p>
                    <div class="code-block text-xs">
<pre>
<span class="comment">// File: database/factories/ProductFactory.php</span>
<span class="keyword">return</span> [
    <span class="string">'name'</span> => <span class="function">fake</span>()-><span class="function">productName</span>(),
    <span class="string">'price'</span> => <span class="function">fake</span>()-><span class="function">numberBetween</span>(1000, 9000),
];

<span class="comment">// Eksekusi di Seeder:</span>
Product::<span class="function">factory</span>(50)-><span class="function">create</span>();
</pre>
                    </div>
                </div>
            </div>

            <!-- 3.3 Register Seeder -->
            <div class="bg-gray-100 p-4 rounded-lg">
                <h4 class="font-bold text-gray-800 mb-2 text-sm flex items-center gap-2">
                    <i class="fa-solid fa-plug text-gray-500"></i> Pendaftaran (Wajib)
                </h4>
                <p class="text-xs text-gray-600 mb-2">Agar seeder berjalan, daftarkan di <code>database/seeders/DatabaseSeeder.php</code></p>
                <div class="code-block text-xs">
<pre>
<span class="keyword">public function</span> <span class="function">run</span>(): <span class="keyword">void</span>
{
    <span class="variable">$this</span>-><span class="function">call</span>([
        ProductSeeder::<span class="keyword">class</span>,
    ]);
}
</pre>
                </div>
            </div>
        </section>

        <!-- PHASE 3: EKSEKUSI -->
        <section class="border-t pt-10 pb-20">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <span class="step-badge">4</span>
                Langkah 3: Eksekusi (Migrate)
            </h2>
            <p class="mb-6 text-gray-600">Saatnya mengubah kode PHP menjadi Tabel Database MySQL yang nyata.</p>

            <div class="bg-gray-900 rounded-xl overflow-hidden shadow-lg border border-gray-700">
                <div class="bg-gray-800 px-4 py-2 flex items-center gap-2 border-b border-gray-700">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    <span class="text-xs text-gray-400 font-mono ml-2">Terminal</span>
                </div>
                <div class="p-6 font-mono text-sm space-y-6">
                    
                    <div>
                        <p class="text-gray-400 mb-2"># OPSI 1: Migrate Biasa (Hanya membuat tabel kosong)</p>
                        <p class="text-white">
                            <span class="text-green-400">php</span> artisan migrate
                        </p>
                    </div>

                    <div class="border-t border-gray-700 pt-4">
                        <p class="text-gray-400 mb-2"># OPSI 2: Migrate + Seeder (Membuat tabel + Isi data awal)</p>
                        <p class="text-white mb-1">
                            <span class="text-green-400">php</span> artisan migrate:fresh <span class="text-purple-400">--seed</span>
                        </p>
                        <p class="text-xs text-yellow-500 italic">
                            *Gunakan ini jika ingin mereset database dari nol (Data lama akan hilang!)
                        </p>
                    </div>

                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t pt-8 text-center text-gray-500 text-sm pb-10">
            <p>Dibuat untuk Materi Pembelajaran Laravel 11 - Toko Online</p>
        </footer>

    </main>

</body>
</html>
